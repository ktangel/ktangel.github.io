<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SSL | LeoLiuGe Blog</title>
    <meta name="generator" content="VuePress 1.4.1">
    
    <meta name="description" content="LeoLiu 一个不断尝试新事情 学习新技术的80后">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta property="og:type" content="article">
    <meta name="renderer" content="webkit">
    <meta name="force-rendering" content="webkit">
    <meta name="applicable-device" content="pc,mobile">
    <link rel="preload" href="/assets/css/0.styles.e82247ed.css" as="style"><link rel="preload" href="/assets/js/app.26b143c5.js" as="script"><link rel="preload" href="/assets/js/3.c09e7e7a.js" as="script"><link rel="preload" href="/assets/js/2.3613c5bc.js" as="script"><link rel="preload" href="/assets/js/138.5e728b85.js" as="script"><link rel="prefetch" href="/assets/js/10.8b48a5e6.js"><link rel="prefetch" href="/assets/js/100.00e14632.js"><link rel="prefetch" href="/assets/js/101.e983096c.js"><link rel="prefetch" href="/assets/js/102.cbdc022d.js"><link rel="prefetch" href="/assets/js/103.e0752f6b.js"><link rel="prefetch" href="/assets/js/104.5706802a.js"><link rel="prefetch" href="/assets/js/105.458969e3.js"><link rel="prefetch" href="/assets/js/106.447bee86.js"><link rel="prefetch" href="/assets/js/107.2794a2fc.js"><link rel="prefetch" href="/assets/js/108.69196138.js"><link rel="prefetch" href="/assets/js/109.592c15a8.js"><link rel="prefetch" href="/assets/js/11.f4dc73e6.js"><link rel="prefetch" href="/assets/js/110.7f986aa6.js"><link rel="prefetch" href="/assets/js/111.aeae13db.js"><link rel="prefetch" href="/assets/js/112.17891637.js"><link rel="prefetch" href="/assets/js/113.73acce45.js"><link rel="prefetch" href="/assets/js/114.1f735019.js"><link rel="prefetch" href="/assets/js/115.02624466.js"><link rel="prefetch" href="/assets/js/116.86bd99e5.js"><link rel="prefetch" href="/assets/js/117.101af32f.js"><link rel="prefetch" href="/assets/js/118.8c3de42b.js"><link rel="prefetch" href="/assets/js/119.48c4ce96.js"><link rel="prefetch" href="/assets/js/12.88c1b978.js"><link rel="prefetch" href="/assets/js/120.a9068d51.js"><link rel="prefetch" href="/assets/js/121.34d97451.js"><link rel="prefetch" href="/assets/js/122.e3d20fd5.js"><link rel="prefetch" href="/assets/js/123.b15a9909.js"><link rel="prefetch" href="/assets/js/124.16ddbd07.js"><link rel="prefetch" href="/assets/js/125.d42035bf.js"><link rel="prefetch" href="/assets/js/126.97cbcdbb.js"><link rel="prefetch" href="/assets/js/127.269f92d5.js"><link rel="prefetch" href="/assets/js/128.86408adc.js"><link rel="prefetch" href="/assets/js/129.7d45a6dd.js"><link rel="prefetch" href="/assets/js/13.03701fb1.js"><link rel="prefetch" href="/assets/js/130.988c9796.js"><link rel="prefetch" href="/assets/js/131.a843d739.js"><link rel="prefetch" href="/assets/js/132.628877b5.js"><link rel="prefetch" href="/assets/js/133.573adea9.js"><link rel="prefetch" href="/assets/js/134.66e89387.js"><link rel="prefetch" href="/assets/js/135.e6cef2cb.js"><link rel="prefetch" href="/assets/js/136.e5e5efbe.js"><link rel="prefetch" href="/assets/js/137.a14b0855.js"><link rel="prefetch" href="/assets/js/139.c9b1d1b4.js"><link rel="prefetch" href="/assets/js/14.a87cadd4.js"><link rel="prefetch" href="/assets/js/140.f7aaf293.js"><link rel="prefetch" href="/assets/js/141.96738168.js"><link rel="prefetch" href="/assets/js/142.952e9d63.js"><link rel="prefetch" href="/assets/js/143.6317df9d.js"><link rel="prefetch" href="/assets/js/144.4818c9d9.js"><link rel="prefetch" href="/assets/js/145.eafe018d.js"><link rel="prefetch" href="/assets/js/146.bf88a1f1.js"><link rel="prefetch" href="/assets/js/147.b0ef29a6.js"><link rel="prefetch" href="/assets/js/148.7e1bb92d.js"><link rel="prefetch" href="/assets/js/149.c1b76a69.js"><link rel="prefetch" href="/assets/js/15.d60df077.js"><link rel="prefetch" href="/assets/js/150.1dbe87cb.js"><link rel="prefetch" href="/assets/js/151.58e172dd.js"><link rel="prefetch" href="/assets/js/152.5e45a717.js"><link rel="prefetch" href="/assets/js/153.dd50b2aa.js"><link rel="prefetch" href="/assets/js/154.1f10cdd3.js"><link rel="prefetch" href="/assets/js/155.97fd8c23.js"><link rel="prefetch" href="/assets/js/156.19009773.js"><link rel="prefetch" href="/assets/js/157.60c6b1cf.js"><link rel="prefetch" href="/assets/js/158.602e7f89.js"><link rel="prefetch" href="/assets/js/159.c28a473f.js"><link rel="prefetch" href="/assets/js/16.b3578a43.js"><link rel="prefetch" href="/assets/js/17.53f42748.js"><link rel="prefetch" href="/assets/js/18.83948d00.js"><link rel="prefetch" href="/assets/js/19.f44dde2a.js"><link rel="prefetch" href="/assets/js/20.89a422c0.js"><link rel="prefetch" href="/assets/js/21.6a0ec22b.js"><link rel="prefetch" href="/assets/js/22.8541a381.js"><link rel="prefetch" href="/assets/js/23.3933c13b.js"><link rel="prefetch" href="/assets/js/24.712ae246.js"><link rel="prefetch" href="/assets/js/25.cffdf98e.js"><link rel="prefetch" href="/assets/js/26.2f5c6080.js"><link rel="prefetch" href="/assets/js/27.5f6bfa07.js"><link rel="prefetch" href="/assets/js/28.664913a5.js"><link rel="prefetch" href="/assets/js/29.ac47bba8.js"><link rel="prefetch" href="/assets/js/30.1cadedaf.js"><link rel="prefetch" href="/assets/js/31.4f8b7ea2.js"><link rel="prefetch" href="/assets/js/32.f7202c8c.js"><link rel="prefetch" href="/assets/js/33.1680bf0c.js"><link rel="prefetch" href="/assets/js/34.198aa9b0.js"><link rel="prefetch" href="/assets/js/35.1a72632a.js"><link rel="prefetch" href="/assets/js/36.837cb2f7.js"><link rel="prefetch" href="/assets/js/37.e471763d.js"><link rel="prefetch" href="/assets/js/38.d0881148.js"><link rel="prefetch" href="/assets/js/39.309026eb.js"><link rel="prefetch" href="/assets/js/4.d0490c7c.js"><link rel="prefetch" href="/assets/js/40.e24f783b.js"><link rel="prefetch" href="/assets/js/41.32829608.js"><link rel="prefetch" href="/assets/js/42.4510f96e.js"><link rel="prefetch" href="/assets/js/43.eb4bd008.js"><link rel="prefetch" href="/assets/js/44.1a1dc587.js"><link rel="prefetch" href="/assets/js/45.f7d10c65.js"><link rel="prefetch" href="/assets/js/46.35943b44.js"><link rel="prefetch" href="/assets/js/47.c6417c68.js"><link rel="prefetch" href="/assets/js/48.d49dead4.js"><link rel="prefetch" href="/assets/js/49.132da5d3.js"><link rel="prefetch" href="/assets/js/5.7950ab83.js"><link rel="prefetch" href="/assets/js/50.c75f213d.js"><link rel="prefetch" href="/assets/js/51.debfae61.js"><link rel="prefetch" href="/assets/js/52.fa9d27ed.js"><link rel="prefetch" href="/assets/js/53.d4a4a066.js"><link rel="prefetch" href="/assets/js/54.ce0b57e9.js"><link rel="prefetch" href="/assets/js/55.cb30724c.js"><link rel="prefetch" href="/assets/js/56.aecc7992.js"><link rel="prefetch" href="/assets/js/57.fe599b61.js"><link rel="prefetch" href="/assets/js/58.edb098e1.js"><link rel="prefetch" href="/assets/js/59.1bd6ce1e.js"><link rel="prefetch" href="/assets/js/6.607a91ef.js"><link rel="prefetch" href="/assets/js/60.85b29cc0.js"><link rel="prefetch" href="/assets/js/61.471d6bc0.js"><link rel="prefetch" href="/assets/js/62.6fc7e56e.js"><link rel="prefetch" href="/assets/js/63.0e9015b4.js"><link rel="prefetch" href="/assets/js/64.0e414f75.js"><link rel="prefetch" href="/assets/js/65.f2501d0c.js"><link rel="prefetch" href="/assets/js/66.60b00821.js"><link rel="prefetch" href="/assets/js/67.cd173b0e.js"><link rel="prefetch" href="/assets/js/68.7c3c6dc5.js"><link rel="prefetch" href="/assets/js/69.fe6f9a3f.js"><link rel="prefetch" href="/assets/js/7.42b15925.js"><link rel="prefetch" href="/assets/js/70.60803f91.js"><link rel="prefetch" href="/assets/js/71.7cfae612.js"><link rel="prefetch" href="/assets/js/72.eb9e1c69.js"><link rel="prefetch" href="/assets/js/73.cd435e08.js"><link rel="prefetch" href="/assets/js/74.74deecbb.js"><link rel="prefetch" href="/assets/js/75.2fd64052.js"><link rel="prefetch" href="/assets/js/76.ada03ff4.js"><link rel="prefetch" href="/assets/js/77.905af665.js"><link rel="prefetch" href="/assets/js/78.7276e0d4.js"><link rel="prefetch" href="/assets/js/79.97d45520.js"><link rel="prefetch" href="/assets/js/8.aa03d242.js"><link rel="prefetch" href="/assets/js/80.128624f8.js"><link rel="prefetch" href="/assets/js/81.1b9a9fb8.js"><link rel="prefetch" href="/assets/js/82.b3f1cec2.js"><link rel="prefetch" href="/assets/js/83.f5b8d8b4.js"><link rel="prefetch" href="/assets/js/84.a6d7fa4c.js"><link rel="prefetch" href="/assets/js/85.e8da2271.js"><link rel="prefetch" href="/assets/js/86.ea5bbf66.js"><link rel="prefetch" href="/assets/js/87.3727b949.js"><link rel="prefetch" href="/assets/js/88.e2c7d687.js"><link rel="prefetch" href="/assets/js/89.6c1aa203.js"><link rel="prefetch" href="/assets/js/9.259fe5ea.js"><link rel="prefetch" href="/assets/js/90.270b8355.js"><link rel="prefetch" href="/assets/js/91.56eec24d.js"><link rel="prefetch" href="/assets/js/92.56f04099.js"><link rel="prefetch" href="/assets/js/93.f4f8c9f0.js"><link rel="prefetch" href="/assets/js/94.0d070675.js"><link rel="prefetch" href="/assets/js/95.8122b7ce.js"><link rel="prefetch" href="/assets/js/96.1666e281.js"><link rel="prefetch" href="/assets/js/97.e4f6c281.js"><link rel="prefetch" href="/assets/js/98.70b7aa4c.js"><link rel="prefetch" href="/assets/js/99.9222f0c5.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e82247ed.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">LeoLiuGe Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Note</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress/" class="nav-link">VuePress</a></li><li class="dropdown-item"><!----> <a href="/markdown/" class="nav-link">Markdown</a></li><li class="dropdown-item"><!----> <a href="/JAVA/" class="nav-link">JAVA</a></li><li class="dropdown-item"><!----> <a href="/ide/" class="nav-link">IDE</a></li><li class="dropdown-item"><!----> <a href="/web/" class="nav-link">Web</a></li><li class="dropdown-item"><!----> <a href="/android/" class="nav-link">Android</a></li><li class="dropdown-item"><!----> <a href="/ios/" class="nav-link">iOS</a></li><li class="dropdown-item"><!----> <a href="/server/" class="nav-link router-link-active">Server</a></li><li class="dropdown-item"><!----> <a href="/unity/" class="nav-link">Unity</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/ktangel/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://ktangel.github.io/blog/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ago Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Note</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress/" class="nav-link">VuePress</a></li><li class="dropdown-item"><!----> <a href="/markdown/" class="nav-link">Markdown</a></li><li class="dropdown-item"><!----> <a href="/JAVA/" class="nav-link">JAVA</a></li><li class="dropdown-item"><!----> <a href="/ide/" class="nav-link">IDE</a></li><li class="dropdown-item"><!----> <a href="/web/" class="nav-link">Web</a></li><li class="dropdown-item"><!----> <a href="/android/" class="nav-link">Android</a></li><li class="dropdown-item"><!----> <a href="/ios/" class="nav-link">iOS</a></li><li class="dropdown-item"><!----> <a href="/server/" class="nav-link router-link-active">Server</a></li><li class="dropdown-item"><!----> <a href="/unity/" class="nav-link">Unity</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/ktangel/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://ktangel.github.io/blog/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ago Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>索引</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/server/linux/" class="sidebar-link">Linux 使用手册</a></li><li><a href="/server/mysql/" class="sidebar-link">Mysql</a></li><li><a href="/server/git/" class="sidebar-link">Git</a></li><li><a href="/server/nodejs/" class="sidebar-link">NodeJS</a></li><li><a href="/server/nginx/" class="sidebar-link">Nginx</a></li><li><a href="/server/ssl/" class="active sidebar-link">SSL</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/server/ssl/#open自建证书" class="sidebar-link">open自建证书</a></li><li class="sidebar-sub-header"><a href="/server/ssl/#单域名证书申请" class="sidebar-link">单域名证书申请</a></li><li class="sidebar-sub-header"><a href="/server/ssl/#免费泛域名证书申请" class="sidebar-link">免费泛域名证书申请</a></li><li class="sidebar-sub-header"><a href="/server/ssl/#let-s-encrypt-auto申请" class="sidebar-link">Let's Encrypt-auto申请</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/server/ssl/#let-s-encrypt-介绍" class="sidebar-link">Let's Encrypt 介绍</a></li><li class="sidebar-sub-header"><a href="/server/ssl/#let-s-encrypt-安装" class="sidebar-link">Let's Encrypt 安装</a></li><li class="sidebar-sub-header"><a href="/server/ssl/#let-s-encrypt-验证方式" class="sidebar-link">Let's Encrypt 验证方式</a></li></ul></li><li class="sidebar-sub-header"><a href="/server/ssl/#certbot命令行" class="sidebar-link">certbot命令行</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/server/ssl/#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/server/ssl/#centos7" class="sidebar-link">Centos7</a></li><li class="sidebar-sub-header"><a href="/server/ssl/#pip方式安装certbot" class="sidebar-link">pip方式安装certbot</a></li><li class="sidebar-sub-header"><a href="/server/ssl/#certbot使用" class="sidebar-link">certbot使用</a></li><li class="sidebar-sub-header"><a href="/server/ssl/#nginx插件" class="sidebar-link">Nginx插件</a></li><li class="sidebar-sub-header"><a href="/server/ssl/#定时续期证书" class="sidebar-link">定时续期证书</a></li><li class="sidebar-sub-header"><a href="/server/ssl/#清除任务" class="sidebar-link">清除任务</a></li><li class="sidebar-sub-header"><a href="/server/ssl/#插件的具体使用" class="sidebar-link">插件的具体使用</a></li><li class="sidebar-sub-header"><a href="/server/ssl/#证书管理" class="sidebar-link">证书管理</a></li><li class="sidebar-sub-header"><a href="/server/ssl/#certbot-help" class="sidebar-link">certbot help</a></li></ul></li></ul></li><li><a href="/server/apache/" class="sidebar-link">Apache</a></li><li><a href="/server/php/" class="sidebar-link">PHP</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ssl"><a href="#ssl" class="header-anchor">#</a> SSL</h1> <h2 id="open自建证书"><a href="#open自建证书" class="header-anchor">#</a> open自建证书</h2> <p>生成私钥</p> <div class="language-sh extra-class"><pre class="language-sh"><code>openssl genrsa -out private.key <span class="token number">1024</span>
</code></pre></div><p>生成一个证书请求</p> <div class="language-sh extra-class"><pre class="language-sh"><code>openssl req -new -key private.key -out cert_req.csr
<span class="token comment"># 指定密钥密钥文件来生成一个ca请求</span>
<span class="token comment"># 要求填入国家区域、公司名、域名、最后填密码</span>
<span class="token comment"># 重要的是Common Name，填入与服务器域名或访问时的IP地址</span>
</code></pre></div><p>将请求发给CA机构进行签名</p> <div class="language-sh extra-class"><pre class="language-sh"><code>openssl x509 -req -days <span class="token number">365</span> -in cert_req.csr -signkey private.key -out server_cert.crt
</code></pre></div><p>参数说明</p> <table><thead><tr><th>参数</th> <th>功能</th></tr></thead> <tbody><tr><td>req</td> <td>此子命令指定我们要使用X.509证书签名请求（CSR）管理。“X.509”是SSL和TLS为其密钥和证书管理所遵循的公钥基础结构标准。我们想要创建一个新的X.509证书，所以我们使用这个子命令</td></tr> <tr><td>-x509</td> <td>通过告诉实用程序我们要创建自签名证书而不是生成证书签名请求（通常会发生）来进一步修改上一个子命令</td></tr> <tr><td>-nodes</td> <td>这告诉OpenSSL跳过用密码保护我们的证书的选项。当服务器启动时，我们需要Nginx能够在没有用户干预的情况下读取文件。密码短语会阻止这种情况发生，因为我们必须在每次重启后输入密码</td></tr> <tr><td>-days 365</td> <td>此选项设置证书被视为有效的时间长度。我们在这里设置了一年</td></tr></tbody></table> <p>最终生成文件：</p> <ul><li>cert_req.csr 请求</li> <li>server_cert.crt 签名证书</li> <li>private.key 密钥</li></ul> <p>然后在nginx 的443配置中引用证书</p> <div class="language-conf extra-class"><pre class="language-text"><code>ssl_certificate         存放路径/server_cert.crt;
ssl_certificate_key     存放路径/private.key;
</code></pre></div><h2 id="单域名证书申请"><a href="#单域名证书申请" class="header-anchor">#</a> 单域名证书申请</h2> <div class="custom-block tip"><p>申请这类域名的途径很多，阿里云和腾讯云都有针对单域名的免费申请，有效期是1年，这种方式其实更省事些。</p></div> <ul><li>certbot nginx插件申请</li></ul> <h2 id="免费泛域名证书申请"><a href="#免费泛域名证书申请" class="header-anchor">#</a> 免费泛域名证书申请</h2> <div class="custom-block tip"><p>泛域名申请只能通过DNS TXT记录的方式申请到，有效期3个月，到期需要手动操作配合更新DNS解析TXT记录续约，或者利用供应商提供的DNS SDK进行更新，其实相当于是重新颁发。</p></div> <ul><li><p><a href="#let-s-encrypt-auto%E7%94%B3%E8%AF%B7">Let's Encrypt 方式</a></p></li> <li><p><a href="#certbot%E5%91%BD%E4%BB%A4%E8%A1%8C">certbot命令行</a></p></li></ul> <h2 id="let-s-encrypt-auto申请"><a href="#let-s-encrypt-auto申请" class="header-anchor">#</a> Let's Encrypt-auto申请</h2> <h3 id="let-s-encrypt-介绍"><a href="#let-s-encrypt-介绍" class="header-anchor">#</a> Let's Encrypt 介绍</h3> <p><a href="https://link.jianshu.com/?t=https://letsencrypt.org" target="_blank" rel="noopener noreferrer">Let's Encrypt<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>是一个免费、开放，自动化的证书颁发机构，由 ISRG（Internet Security Research Group）运作。</p> <p>ISRG 是一个关注网络安全的公益组织，其赞助商从非商业组织到财富100强公司都有，包括 Mozilla、Akamai、Cisco、Facebook，密歇根大学等等。ISRG 以消除资金，技术领域的障碍，全面推进加密连接成为互联网标配为自己的使命。</p> <p>Let's Encrypt 项目于2012年由 Mozilla 的两个员工发起，2014年11年对外宣布公开，2015年12月3日开启公测。</p> <p>Let's Encrypt 目前处于公测期间，文档，工具还不完善，请谨慎用于生产环境。</p> <h3 id="let-s-encrypt-安装"><a href="#let-s-encrypt-安装" class="header-anchor">#</a> Let's Encrypt 安装</h3> <p>Let's Encrypt 目前仅支持 Unix-like 系统，需要 Python 2.6 或 2.7，暂不支持 Python 3。</p> <p>可以使用 pip 安装 Let's Encrypt 客户端，或到其 (wiki)[https://link.jianshu.com/?t=https://github.com/letsencrypt/letsencrypt/wiki/Packaging] 上查看已打包的各操作系统安装方式。</p> <p>以官方推荐的 <code>letsencrypt-auto</code> 脚本为例进行安装：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">git</span> clone https://github.com/letsencrypt/letsencrypt

$ <span class="token builtin class-name">cd</span> letsencrypt

$ ./letsencrypt-auto --help
</code></pre></div><h3 id="let-s-encrypt-验证方式"><a href="#let-s-encrypt-验证方式" class="header-anchor">#</a> Let's Encrypt 验证方式</h3> <p>Let's Encrypt 使用两种方式对申请的域名进行验证：</p> <p>1、 手动验证 按照提示在申请证书的服务器上使用一个指定的URL提供一个指定的文件内容来进行验证，进行手动验证的服务器IP地址会被 Let's Encrypt 服务端记录在案。</p> <p>2、 自动验证 在 目标服务器 （指域名解析对应的IP地址的服务器，下同）上运行客户端，并启动一个 80 或 443 端口进行自动验证。包括独立模式和其他web sever验证模式，在 Plugins 中详细解释</p> <h2 id="certbot命令行"><a href="#certbot命令行" class="header-anchor">#</a> certbot命令行</h2> <p><a href="https://certbot.eff.org/lets-encrypt/centosrhel7-nginx" target="_blank" rel="noopener noreferrer">certbot官网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h3> <p>在官网上可以通过选择不同的系统和环境来按提示完成安装；</p> <h3 id="centos7"><a href="#centos7" class="header-anchor">#</a> Centos7</h3> <p>需要root权限,下面的是官网推荐的安装。</p> <div class="custom-block warning"><p>以这种方式安装的会提示依赖包问题，可以按后面的方法用pip方式安装解决</p></div> <h4 id="_1-添加yum-源并更新；"><a href="#_1-添加yum-源并更新；" class="header-anchor">#</a> 1. 添加yum 源并更新；</h4> <div class="language-bash extra-class"><pre class="language-bash"><code>yum <span class="token function">install</span> https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
yum update
</code></pre></div><h4 id="_2-开启可选通道"><a href="#_2-开启可选通道" class="header-anchor">#</a> 2. 开启可选通道</h4> <div class="language-bash extra-class"><pre class="language-bash"><code>yum -y <span class="token function">install</span> yum-utils
yum-config-manager --enable rhui-REGION-rhel-server-extras rhui-REGION-rhel-server-optional
</code></pre></div><h4 id="_3-安装certbot"><a href="#_3-安装certbot" class="header-anchor">#</a> 3. 安装certbot</h4> <div class="custom-block tip"><p>强烈推荐以<a href="#pip%E6%96%B9%E5%BC%8F%E5%AE%89%E8%A3%85certbot">pip方式安装certbot</a></p></div> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> yum <span class="token function">install</span> certbot
</code></pre></div><p>nginx</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> yum <span class="token function">install</span> certbot python2-certbot-nginx
</code></pre></div><div class="custom-block warning"><p>提示，urllib3 模块问题，重新安装urllib3到指定版本：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>pip uninstall urllib3
pip <span class="token function">install</span> <span class="token assign-left variable">urllib3</span><span class="token operator">==</span><span class="token number">1.21</span>.1
</code></pre></div><p>再提示pyopenssl 问题：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>yum <span class="token function">install</span> -y openssl-devel
pip <span class="token function">install</span> <span class="token assign-left variable">cryptography</span><span class="token operator">==</span><span class="token number">2.3</span>
</code></pre></div></div> <h3 id="pip方式安装certbot"><a href="#pip方式安装certbot" class="header-anchor">#</a> pip方式安装certbot</h3> <p>卸载yum安装的certbot和pyOpenSSL</p> <div class="language-bash extra-class"><pre class="language-bash"><code>yum remove certbot pyOpenSSL<span class="token punctuation">;</span>
</code></pre></div><p>升级pip</p> <div class="language-bash extra-class"><pre class="language-bash"><code>pip <span class="token function">install</span> --upgrade pip；
</code></pre></div><p>pip安装certbot</p> <div class="language-bash extra-class"><pre class="language-bash"><code>pip <span class="token function">install</span> certbot
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">如果遇到到了Python.h或者pyconfig.h找不到的错误，</p> <p>先安装Python的devel包后再重试安装certbot：</p> <div class="language-bash extra-class"><pre class="language-bash"><code> yum <span class="token function">install</span> -y python-devel
 pip <span class="token function">install</span> certbot
</code></pre></div></div> <div class="custom-block warning"><p class="custom-block-title">提示找不到opensslv.h头文件</p> <p>安装OpenSSL的devel包后再重试安装certbot：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>yum <span class="token function">install</span> -y openssl-devel
pip <span class="token function">install</span> certbot
</code></pre></div></div> <h3 id="certbot使用"><a href="#certbot使用" class="header-anchor">#</a> certbot使用</h3> <p>有三种方式进行证书申请：</p> <div class="custom-block warning"><p>第一和第二种无法申请泛域名证书</p></div> <h4 id="一、客户端标准"><a href="#一、客户端标准" class="header-anchor">#</a> 一、客户端标准</h4> <p>这种模式需要关闭占用80和442端口的web服务；</p> <div class="language-bash extra-class"><pre class="language-bash"><code>certbot certonly --standalone
</code></pre></div><h4 id="二、网页路径"><a href="#二、网页路径" class="header-anchor">#</a> 二、网页路径</h4> <p>加入现有web服务相对路径中，不影响现有服务运行；</p> <div class="language-bash extra-class"><pre class="language-bash"><code>certonly --webroot
</code></pre></div><h4 id="三、dns验证"><a href="#三、dns验证" class="header-anchor">#</a> 三、DNS验证</h4> <div class="custom-block tip"><p>这种方式可以申请泛域名证书</p></div> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> certbot certonly --preferred-challenges dns --manual -d yourdomain.com,*.yourdomain.com --server https://acme-v02.api.letsencrypt.org/directory
<span class="token comment"># 将*.yourdomain.com 替换成你的泛域名</span>
</code></pre></div><h3 id="nginx插件"><a href="#nginx插件" class="header-anchor">#</a> Nginx插件</h3> <div class="custom-block tip"><p>这种方式无法申请泛域名证书，但优点是使用方便，可设置自动定时续约服务，和客户端方式一样，中途会短暂停止nginx</p></div> <h4 id="nginx插件-2"><a href="#nginx插件-2" class="header-anchor">#</a> Nginx插件</h4> <div class="language-sh extra-class"><pre class="language-sh"><code>yum <span class="token function">install</span> certbot python2-certbot-nginx <span class="token comment">#如已安装cerbot，可省去certbot</span>
</code></pre></div><h4 id="插件使用"><a href="#插件使用" class="header-anchor">#</a> 插件使用</h4> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 第一种，自动检查nginx配置中的域名，让你选择要申请哪一个，然后申请完后自动配置</span>

certbot --nginx

<span class="token comment"># 或者自己手动配置</span>
certbot --nginx certonly
</code></pre></div><h3 id="定时续期证书"><a href="#定时续期证书" class="header-anchor">#</a> 定时续期证书</h3> <p>定时任务</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;0 0,12 * * * root python -c 'import random; import time; time.sleep(random.random() * 3600)' &amp;&amp; certbot renew&quot;</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> -a /etc/crontab <span class="token operator">&gt;</span> /dev/null
</code></pre></div><p>如果你用的是nginx，可以加入重启nginx服务的命令</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;0 0,12 * * * root python -c 'import random; import time; time.sleep(random.random() * 3600)' &amp;&amp; certbot renew --pre-hook 'service nginx stop' --post-hook 'service nginx start'&quot;</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> -a /etc/crontab <span class="token operator">&gt;</span> /dev/null
</code></pre></div><h3 id="清除任务"><a href="#清除任务" class="header-anchor">#</a> 清除任务</h3> <p>将<code>/etc/crontab</code> 文件中最下面一行命令删除并保存</p> <h3 id="插件的具体使用"><a href="#插件的具体使用" class="header-anchor">#</a> 插件的具体使用</h3> <h4 id="webroot"><a href="#webroot" class="header-anchor">#</a> webroot</h4> <p>一般需要使用的参数</p> <div class="language-bash extra-class"><pre class="language-bash"><code>certonly <span class="token comment">#只获取证书，不安装</span>
--webroot <span class="token comment">#定义使用的插件方法是webroot</span>
--webroot-path <span class="token comment"># 简写：-w 目录位置</span>
-d <span class="token comment"># 域名</span>

certbot certonly --webroot -w /var/www/example -d www.example.com -d example.com -w /var/www/other -d other.example.net -d another.other.example.net

</code></pre></div><p><code>-w</code>和<code>-d</code>配合使用，域名将使用最近的path，比如上面<code>/var/www/example</code> 对应 前两个域名，<code>/var/www/other</code>对应后两个域名</p> <p>验证的机制：</p> <p>验证的时候会自动向<code>${webroot-path}/.well-known/acme-challenge</code>目录下写一个临时文件，然后会发送一个请求，去验证是否可以正常访问，访问的请求类似下面</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token number">66.133</span>.109.36 - - <span class="token punctuation">[</span>05/Jan/2016:20:11:24 -0500<span class="token punctuation">]</span> <span class="token string">&quot;GET /.well-known/acme-challenge/HGr8U1IeTW4kY_Z6UIyaakzOkyQgPr_7ArlLgtZE8SX HTTP/1.1&quot;</span> <span class="token number">200</span> <span class="token number">87</span> <span class="token string">&quot;-&quot;</span> <span class="token string">&quot;Mozilla/5.0 (compatible; Let's Encrypt validation server; +https://www.letsencrypt.org)&quot;</span>
</code></pre></div><p>所以我们本身有服务的情况下，比如使用的是nginx，那么我们需要添加如下配置</p> <div class="language-conf extra-class"><pre class="language-text"><code>server {
    server_name www.yoursite.com yoursite.com;

    # 需要添加的配置
    location ^~ /.well-known/acme-challenge/ {
        alias /home/xxx/www/challenges/;
        try_files $uri =404;
    }

    # ... 其它配置
}

</code></pre></div><h4 id="standalone"><a href="#standalone" class="header-anchor">#</a> standalone</h4> <p><code>certbot standalone</code> 该插件会启动一个web服务器,如已经运行了nginx服务并且占用了80，433的话需要暂时停止。</p> <p>使用<code>--preferred-challenges http</code>参数的话，对应使用80端口</p> <p>使用<code>--preferred-challenges tls-sni</code>参数对应使用443端口，所以如果你有占用这两个端口的服务</p> <p>请根据你的实际使用端口，停用占用端口的程序，同样配合certonly使用。</p> <p>使用方法：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> certbot certonly --standalone -d example.com -d www.example.com
</code></pre></div><h4 id="dns-plugins"><a href="#dns-plugins" class="header-anchor">#</a> DNS plugins</h4> <p>如果你想去的一个野卡证书，那么只能使用dns验证的方式（即使你是使用manual参数，根本上还是使用dns验证方式）。</p> <p>默认的certbot是不包含dns插件的，如果你要使用此方式的话，需要下载相应的插件：插件地址，具体的使用方法，请点击你对应的dns服务商链接，然后按照相应的方法获取证书，官方提供的基本上是国外的dns服务区上，国内的服务商暂时没有，不过可以使用manual方法。</p> <h4 id="manual"><a href="#manual" class="header-anchor">#</a> manual</h4> <p>该方法允许你通过交互的方式获取证书，可以在其它服务器上运行，可以选择http，dns和tls-sni方式中的任意一种。</p> <p>比如使用dns的方式，会要求你在验证过程中手动填写txt dns的记录，然后继续，验证成功后会获取证书。</p> <p>举例：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 使用manual方式，选择dns验证，申请野卡证书的方法（添加--server https://acme-v02.api.letsencrypt.org/directory参数）</span>
./certbot-auto certonly  -d *.archerwong.cn -d archerwong.cn --manual --preferred-challenges dns --server https://acme-v02.api.letsencrypt.org/directory 
</code></pre></div><p>上面是手动的方式申请，中间需要人工干预，去dns服务商填写text记录。</p> <p>你还可以使用脚本帮助你完成一些验证，可以使用--manual-auth-hook 和 --manual-cleanup-hook参数，关于钩子的使用：参考地址</p> <p>正是因为这个钩子，可以编写一个 Shell 脚本，让脚本调用 DNS 服务商的 API 接口，动态添加 TXT 记录，这样就无需人工干预了。</p> <p>推荐下 ：<a href="https://github.com/ywdblog/certbot-letencrypt-wildcardcertificates-alydns-au" target="_blank" rel="noopener noreferrer">申请dns证书的脚本<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="证书管理"><a href="#证书管理" class="header-anchor">#</a> 证书管理</h3> <h4 id="查看已经申请的证书"><a href="#查看已经申请的证书" class="header-anchor">#</a> 查看已经申请的证书</h4> <div class="language-bash extra-class"><pre class="language-bash"><code>$ ./certbot certificates
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Found the following certs:
  Certificate Name: *.leoliuge.com
    Domains: *.leoliuge.com leoliuge.com
    Expiry Date: <span class="token number">2020</span>-02-18 02:38:10+00:00 <span class="token punctuation">(</span>VALID: <span class="token number">89</span> days<span class="token punctuation">)</span>
    Certificate Path: /etc/letsencrypt/live/*.leoliuge.com/fullchain.pem
    Private Key Path: /etc/letsencrypt/live/*.leoliuge.com/privkey.pem
  Certificate Name: leoliuge.com
    Domains: *.leoliuge.com
    Expiry Date: <span class="token number">2020</span>-02-18 02:32:43+00:00 <span class="token punctuation">(</span>VALID: <span class="token number">89</span> days<span class="token punctuation">)</span>
    Certificate Path: /etc/letsencrypt/live/leoliuge.com/fullchain.pem
    Private Key Path: /etc/letsencrypt/live/leoliuge.com/privkey.pem
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
</code></pre></div><p><code>Certificate Name</code>是一个重要标识，可以具体指定哪一个证书，可以配合 run, certonly, certificates, renew，和 delete等命令一起使用</p> <p>比如：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>certbot certonly --cert-name archerwong.cn
</code></pre></div><h4 id="重新创建和更新证书"><a href="#重新创建和更新证书" class="header-anchor">#</a> 重新创建和更新证书</h4> <p>可以使用<code>certonly</code>或<code>run</code>命令来创建一个新证书，即使已经存在具有该域名的证书，也没有关系，那么certbot会更新该证书，否则会创建一个新证书，一句话存在就更新，不存在就创建</p> <p><code>run</code> 和 <code>certonly</code>的区别：</p> <ul><li><p><code>run</code> 默认的方式，获取，并安装一个证书</p></li> <li><p><code>certonly</code> 是创建或者更新一个证书，但是不安装该证书</p> <ul><li>在recreate证书的时候，可以指定具体行为，可以使用<code>--force-renewal</code>, <code>--duplicate</code>, <code>--expand</code>来限定操作，如果你没有具体指定，certbot可能会问你具体意图。</li></ul></li> <li><p><code>--force-renewal</code> 当请求一个已经存在并有相同域名的证书时，需要把每一个域名通过-d来指定，不管过期与否，强制更新证书。</p></li> <li><p><code>--duplicate</code> 告诉certbot不管有没有旧证书，都创建一个独立的新证书</p></li> <li><p><code>--expand</code> 告诉certbot更新一个已经存在的证书，需要使用-d参数包含所有旧的域名，并添加新的域名。</p></li></ul> <p>expand 举例</p> <p>可以将域名使用逗号分隔</p> <div class="language-bash extra-class"><pre class="language-bash"><code>certbot --expand -d existing.com,example.com,newdomain.com
</code></pre></div><p>也可以单独写</p> <div class="language-bash extra-class"><pre class="language-bash"><code>certbot --expand -d existing.com -d example.com -d newdomain.com
</code></pre></div><p>当我们需要扩展一个证书的时候，上面是通过expand方式，并且是通过-d参数来判定是哪个证书的，但是官方鼓励使用--cert-name来指明是哪个证书，不建议使用expand。</p> <h4 id="改变证书的域名"><a href="#改变证书的域名" class="header-anchor">#</a> 改变证书的域名</h4> <p>同样可以通过指定<code>--cert-name</code>的方式来更改证书的域名，形式如下</p> <div class="language-bash extra-class"><pre class="language-bash"><code>certbot certonly --cert-name example.com -d example.com
certbot certonly --cert-name example.com -d example.org,www.example.org
</code></pre></div><h4 id="撤销证书（revoking-certificates）"><a href="#撤销证书（revoking-certificates）" class="header-anchor">#</a> 撤销证书（revoking certificates）</h4> <p>如果你的证书秘钥已经被泄露，那么可以选择撤销证书，使用revoke命令，注意这里配合使用的参数是证书路径（以cert.pem结尾），不是证书名称或者域名</p> <div class="language-bash extra-class"><pre class="language-bash"><code>certbot revoke --cert-path /etc/letsencrypt/live/CERTNAME/cert.pem --reason keycompromise
<span class="token comment"># 同时可以指定原因，可以使用的原因包括:</span>
<span class="token comment"># unspecified （默认）， keycompromise, affiliationchanged, superseded, 和 cessationofoperation</span>
</code></pre></div><p>如果证书是使用 <code>--staging</code> 或 <code>--test-cert</code> 参数，那么当revoke证书的时候需要带着测试参数 <code>--staging</code> 或 <code>--test-cert</code></p> <p>因为证书申请是有数目限制的，所以后面我加上了测试用的参数，可以看下申请出的证书过期时间是和正式证书不同的</p> <p>一旦证书被revoke后，可以使用delete命令删除证书。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>certbot delete --cert-name example.com
</code></pre></div><p>注意：如果你revoke一个证书，那么如果不delete的话，当renew的时候该证书仍然会被更新。</p> <p>下面演示如何删除一个证书</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ ./certbot-auto revoke --cert-path /etc/letsencrypt/live/test.archerwong.cn-0001/cert.pem --staging --reason keycompromise
Saving debug log to /var/log/letsencrypt/letsencrypt.log

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Would you like to delete the cert<span class="token punctuation">(</span>s<span class="token punctuation">)</span> you just revoked?
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
<span class="token comment"># 询问你是否删除revoke的证书，要删除就选输入Y</span>

<span class="token punctuation">(</span>Y<span class="token punctuation">)</span>es <span class="token punctuation">(</span>recommended<span class="token punctuation">)</span>/<span class="token punctuation">(</span>N<span class="token punctuation">)</span>o: n

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Congratulations<span class="token operator">!</span> You have successfully revoked the certificate that was located
at /etc/letsencrypt/live/test.archerwong.cn-0001/cert.pem

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

IMPORTANT NOTES:
 - Not deleting revoked certs.

</code></pre></div><h4 id="更新证书"><a href="#更新证书" class="header-anchor">#</a> 更新证书</h4> <p>处于安全等因素的考虑，letsencrypt证书只支持90天的有效期，所以我们需要在临近过期的时间再次更新证书，certbot上可以方便的进行更新操作,使用renew命令</p> <p>certbot renew
类似于下面的情形，因为我都是新申请的证书，所以没有更新</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ ./certbot renew

</code></pre></div><p>该命令会尝试更新所有的证书，查找到期天数低于30天的证书，然后更新
，正式因为上面的特性，当没有需要更新的证书的时候，就不会采取任何操作，所以这特别适合自动部署，你可以频繁的进行renew操作，不用担心产生太多副作用。</p> <p>这里还有个强大的功能就是可以使用钩子，比如你使用的是standalone方式验证证书，同时你又时刻运行着自己的nginx服务器，那么当验证的时候就需要关闭nginx服务，这时候就可以使用钩子来自动化完成这个操作，当有证书需要更新的时候才会触发钩子，不是每运行一次更新操作就运行一次钩子，所以不用太担心会频繁关闭启动nginx服务。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>certbot renew --pre-hook <span class="token string">&quot;service nginx stop&quot;</span> --post-hook <span class="token string">&quot;service nginx start&quot;</span>
</code></pre></div><p><code>--pre-hook</code> 和<code>--post-hook</code> 钩子运行在尝试更新和更新证书之后</p> <p>如果你想要只运行在一次成功更新证书之后，那么可以使用<code>--deploy-hook</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code>certbot renew --deploy-hook /path/to/deploy-hook-script
</code></pre></div><p>比如，你有一个守护进程需要读取证书内容但是不是使用root用户，下面的脚本可以复制一份证书，并更改证书的权限。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>

<span class="token builtin class-name">set</span> -e

<span class="token keyword">for</span> <span class="token for-or-select variable">domain</span> <span class="token keyword">in</span> <span class="token variable">$RENEWED_DOMAINS</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
        <span class="token keyword">case</span> <span class="token variable">$domain</span> <span class="token keyword">in</span>
        example.com<span class="token punctuation">)</span>
                <span class="token assign-left variable">daemon_cert_root</span><span class="token operator">=</span>/etc/some-daemon/certs

                <span class="token comment"># Make sure the certificate and private key files are</span>
                <span class="token comment"># never world readable, even just for an instant while</span>
                <span class="token comment"># we're copying them into daemon_cert_root.</span>
                <span class="token builtin class-name">umask</span> 077

                <span class="token function">cp</span> <span class="token string">&quot;<span class="token variable">$RENEWED_LINEAGE</span>/fullchain.pem&quot;</span> <span class="token string">&quot;<span class="token variable">$daemon_cert_root</span>/<span class="token variable">$domain</span>.cert&quot;</span>
                <span class="token function">cp</span> <span class="token string">&quot;<span class="token variable">$RENEWED_LINEAGE</span>/privkey.pem&quot;</span> <span class="token string">&quot;<span class="token variable">$daemon_cert_root</span>/<span class="token variable">$domain</span>.key&quot;</span>

                <span class="token comment"># Apply the proper file ownership and permissions for</span>
                <span class="token comment"># the daemon to read its certificate and key.</span>
                <span class="token function">chown</span> some-daemon <span class="token string">&quot;<span class="token variable">$daemon_cert_root</span>/<span class="token variable">$domain</span>.cert&quot;</span> <span class="token punctuation">\</span>
                        <span class="token string">&quot;<span class="token variable">$daemon_cert_root</span>/<span class="token variable">$domain</span>.key&quot;</span>
                <span class="token function">chmod</span> <span class="token number">400</span> <span class="token string">&quot;<span class="token variable">$daemon_cert_root</span>/<span class="token variable">$domain</span>.cert&quot;</span> <span class="token punctuation">\</span>
                        <span class="token string">&quot;<span class="token variable">$daemon_cert_root</span>/<span class="token variable">$domain</span>.key&quot;</span>

                <span class="token function">service</span> some-daemon restart <span class="token operator">&gt;</span>/dev/null
                <span class="token punctuation">;</span><span class="token punctuation">;</span>
        <span class="token keyword">esac</span>
<span class="token keyword">done</span>

</code></pre></div><p>你可以直接将钩子文件放到指定目录 <code>/etc/letsencrypt/renewal-hooks/pre</code>, <code>/etc/letsencrypt/renewal-hooks/deploy</code>, <code>/etc/letsencrypt/renewal-hooks/post</code>，那么这三个文件夹里的文件会按照，pre，deply，post类型的钩子运行。同一个文件夹下有多个文件，那么这些文件的运行时按照文件名字母的排序先后运行的。你可以指定不使用这些文件夹下的钩子文件，需要在使用命令的时候添加 <code>--no-directory-hooks</code> 参数</p> <p>如果在更新证书的过程中不需要人工干预，那么可以将命令添加到crontab，这样定期自动更新证书。</p> <p>如果你在手动更新证书，并且向忽略过期时间的限制，那么可以使用 --force-renewal 参数，但是这样做要注意，你可能很快就超过官方申请频率的限制。</p> <p>如果你不想在申请过程中有任何输入，那么可以使用--noninteractive (简写：-n)来表名不想输入，这时客户端会尝试帮你填写需要的选项。</p> <p>如果快到期的时候你还没有更新证书，那么CA会给你发邮件提醒你，所以邮箱还是要认真填写的。</p> <h3 id="certbot-help"><a href="#certbot-help" class="header-anchor">#</a> certbot help</h3> <p>Certbot 0.12.0</p> <div class="language-conf extra-class"><pre class="language-text"><code>用法:
  certbot [子命令] [选项] [-d 域名] [-d 域名] ...
Certbot工具用于获取和安装 HTTPS/TLS/SSL 证书。默认情况下，Certbot会尝试为本地网页服务器
(如果不存在会默认安装一个到本地)获取并安装证书。最常用的子命令和选项如下:

获取, 安装, 更新证书:
    (默认) run       获取并安装证书到当前网页服务器
    certonly        获取或更新证书，但是不安装
    renew           更新已经获取但快过期的所有证书
   -d 域名列表        指定证书对应的域名列表，域名之间使用逗号分隔

  --apache          使用Apache插件进行身份认证和安装
  --standalone      运行一个独立的网页服务器用于身份认证
  --nginx           使用Nginx插件进行身份认证和安装
  --webroot         把身份认证文件放置在服务器的网页根目录下
  --manual          使用交互式或脚本钩子的方式获取证书

   -n               非交互式运行
  --test-cert       从预交付服务器上获取测试证书
  --dry-run         测试获取或更新证书，但是不存储到本地硬盘

证书管理:
    certificates    显示使用Certbot生成的所有证书的信息
    revoke          撤销证书(supply --cert-path)
    delete          删除证书

管理你的Let's Encrypt账户
    register        创建Let's Encrypt ACME账户
  --agree-tos       同意ACME服务器的订阅协议
   -m EMAIL         接收有关账户的重要通知的邮箱地址

可选参数:
  -h, --help            显示帮助信息，然后退出
  -c 配置文件, --config 配置文件
                        配置文件的路径 (默认: /etc/letsencrypt/cli.ini
                        或 ~/.config/letsencrypt/cli.ini)
  -v, --verbose         当前参数可以重复使用多次来增加输出信息的详细程度，例如 -vvv.
                        (默认: -2)
  -n, --non-interactive, --noninteractive
                        非交互式运行，即运行过程中不需要询问用户输入，但需要额外的命令行
                        参数。当客户端发现参数缺失时会给出相应的说明。(默认: False)
  --force-interactive   无论Certbot是否以命令行的方式运行，强制交互式运行。当前参数不能
                        用于renew子命令。(默认: False)
  -d 域名列表, --domains 域名列表, --domain 域名列表
                        指定域名列表。如果有多个域名，可以多次使用-d参数，也可以在-d参数后
                        使用逗号分隔的域名列表。(默认: 询问)
  --cert-name 证书名称   指定证书名称。每次Certbot运行只使用一个证书名称。可以使用命令
                        'certbot certificates'查看已生成的证书名称。当创建新的证书时，
                        此选项用于指定证书的名称。(默认: 无)
  --dry-run             使用客户端执行一次试运行，获取测试证书(无效的证书)但不保存到磁盘。
                        当前选项仅用于'certonly'和'renew'子命令。
                        注: 尽管 --dry-run 选项试图阻止任何对系统的修改，但并不能做到
                        完全避免: 如果使用类似apache或nginx网页服务器来认证插件，
                        程序运行过程中，会尝试修改或恢复配置文件来获取测试证书，
                        也会重启网页服务器来部署和回滚这些修改。如果定义了 --pre-hook 和
                        --post-hook 选项它们会被同时执行，这两个选项有助于更精确地模拟
                        更新证书。--renew-hook 选项在这里不会被执行。(默认: False)
  --preferred-challenges PREF_CHALLS
                        A sorted, comma delimited list of the preferred
                        challenge to use during authorization with the most
                        preferred challenge listed first (Eg, &quot;dns&quot; or &quot;tls-
                        sni-01,http,dns&quot;). Not all plugins support all
                        challenges. See
                        https://certbot.eff.org/docs/using.html#plugins for
                        details. ACME Challenges are versioned, but if you
                        pick &quot;http&quot; rather than &quot;http-01&quot;, Certbot will select
                        the latest version automatically. (default: [])
  --user-agent 用户代理
                        设置本客户端的用户代理信息。用户代理信息用于CA机构收集关于操作系统
                        和插件的使用成功率。如果你希望隐藏此信息，设置此选项为&quot;&quot;。
                        (默认: CertbotACMEClient/0.12.0 (Ubuntu 16.04.2 LTS)
                        Authenticator/XXX Installer/YYY)

自动化:
  用于自动运行或其他情况的参数

  --keep-until-expiring, --keep, --reinstall
                        如果被请求的证书已经存在，那么不执行更新操作直到证书将要过期
                        (如果使用了'run'子命令，无论是否过期证书都会被更新)。
                        (默认: 询问)
  --expand              如果请求的证书名字是已经存在的证书名字的子集，那么这个本地证书
                        会被重置并重命名。(默认: 询问)
  --version             显示程序和版本号，然后退出
  --force-renewal, --renew-by-default
                        如果请求的证书已经存在，无论是否快要到期，更新该证书。
                        (通常使用 --keep-until-expiring 选项)。
                        该选项默认包含了 --expand 选项的功能。(默认: False)
  --renew-with-new-domains
                        如果被请求的证书已经存在，但是域名变了，那么无论该证书是否将要过期
                        都会被更新。(默认: False)
  --allow-subset-of-names
                        When performing domain validation, do not consider it
                        a failure if authorizations can not be obtained for a
                        strict subset of the requested domains. This may be
                        useful for allowing renewals for multiple domains to
                        succeed even if some domains no longer point at this
                        system. This option cannot be used with --csr.
                        (default: False)
  --agree-tos           同意ACME订阅协议 (默认: 询问)
  --duplicate           Allow making a certificate lineage that duplicates an
                        existing one (both can be renewed in parallel)
                        (default: False)
  --os-packages-only    (仅用于 certbot-auto) 安装系统依赖包，然后停止 (默认: False)
  --no-self-upgrade     (仅用于 certbot-auto) 禁止 certbot-auto 脚本自动升级自己到
                        新的发布版本 (默认: 自动升级)
  -q, --quiet           程序运行只输出错误信息。这个选项对于 cron 等自动化工具很有用。
                        该选项默认包含了 --non-interactive 选项的功能。(默认: False)

安全:
  有关安全的参数和服务器设置

  --rsa-key-size N      RSA密钥的大小。 (默认: 2048)
  --must-staple         为证书添加 OCSP Must Staple 扩展。当Apache版本高于2.3.3时，
                        自动配置 OCSP Stapling 支持。 (默认: False)
  --redirect            对于新认证的虚拟主机，自动重定向HTTP到HTTPS。 (默认: 询问)
  --no-redirect         对于新认证的虚拟主机，不要重定向HTTP到HTTPS。 (默认: 询问)
  --hsts                Add the Strict-Transport-Security header to every HTTP
                        response. Forcing browser to always use SSL for the
                        domain. Defends against SSL Stripping. (default:
                        False)
  --uir                 Add the &quot;Content-Security-Policy: upgrade-insecure-
                        requests&quot; header to every HTTP response. Forcing the
                        browser to use https:// for every http:// resource.
                        (default: None)
  --staple-ocsp         Enables OCSP Stapling. A valid OCSP response is
                        stapled to the certificate that the server offers
                        during TLS. (default: None)
  --strict-permissions  Require that all configuration files are owned by the
                        current user; only needed if your config is somewhere
                        unsafe like /tmp/ (default: False)

测试:
  The following flags are meant for testing and integration purposes only.

  --test-cert, --staging
                        Use the staging server to obtain or revoke test
                        (invalid) certs; equivalent to --server https://acme-
                        staging.api.letsencrypt.org/directory (default: False)
  --debug               Show tracebacks in case of errors, and allow certbot-
                        auto execution on experimental platforms (default:
                        False)
  --no-verify-ssl       Disable verification of the ACME server's certificate.
                        (default: False)
  --tls-sni-01-port TLS_SNI_01_PORT
                        Port used during tls-sni-01 challenge. This only
                        affects the port Certbot listens on. A conforming ACME
                        server will still attempt to connect on port 443.
                        (default: 443)
  --http-01-port HTTP01_PORT
                        Port used in the http-01 challenge. This only affects
                        the port Certbot listens on. A conforming ACME server
                        will still attempt to connect on port 80. (default:
                        80)
  --break-my-certs      Be willing to replace or renew valid certs with
                        invalid (testing/staging) certs (default: False)

路径:
  修改有关执行路径和服务器的参数

  --cert-path 证书路径
                        Path to where cert is saved (with auth --csr),
                        installed from, or revoked. (default: None)
  --key-path 密钥路径    Path to private key for cert installation or
                        revocation (if account key is missing) (default: None)
  --chain-path 钥匙链路径
                        Accompanying path to a certificate chain. (default:
                        None)
  --config-dir 配置文件目录
                        Configuration directory. (default: /etc/letsencrypt)
  --work-dir 工作目录    Working directory. (default: /var/lib/letsencrypt)
  --logs-dir 日志目录    Logs directory. (default: /var/log/letsencrypt)
  --server 服务器        ACME Directory Resource URI. (default:
                        https://acme-v01.api.letsencrypt.org/directory)

管理:
  Various subcommands and flags are available for managing your
  certificates:

  certificates          List certificates managed by Certbot
  delete                Clean up all files related to a certificate
  renew                 Renew all certificates (or one specified with --cert-
                        name)
  revoke                Revoke a certificate specified with --cert-path
  update_symlinks       Recreate symlinks in your /etc/letsencrypt/live/
                        directory

run:
  获取和安装证书的选项

certonly:
  修改获取证书方式的选项

  --csr CSR             Path to a Certificate Signing Request (CSR) in DER or
                        PEM format. Currently --csr only works with the
                        'certonly' subcommand. (default: None)

renew:
  The 'renew' subcommand will attempt to renew all certificates (or more
  precisely, certificate lineages) you have previously obtained if they are
  close to expiry, and print a summary of the results. By default, 'renew'
  will reuse the options used to create obtain or most recently successfully
  renew each certificate lineage. You can try it with `--dry-run` first. For
  more fine-grained control, you can renew individual lineages with the
  `certonly` subcommand. Hooks are available to run commands before and
  after renewal; see https://certbot.eff.org/docs/using.html#renewal for
  more information on these.

  --pre-hook PRE_HOOK   Command to be run in a shell before obtaining any
                        certificates. Intended primarily for renewal, where it
                        can be used to temporarily shut down a webserver that
                        might conflict with the standalone plugin. This will
                        only be called if a certificate is actually to be
                        obtained/renewed. When renewing several certificates
                        that have identical pre-hooks, only the first will be
                        executed. (default: None)
  --post-hook POST_HOOK
                        Command to be run in a shell after attempting to
                        obtain/renew certificates. Can be used to deploy
                        renewed certificates, or to restart any servers that
                        were stopped by --pre-hook. This is only run if an
                        attempt was made to obtain/renew a certificate. If
                        multiple renewed certificates have identical post-
                        hooks, only one will be run. (default: None)
  --renew-hook RENEW_HOOK
                        Command to be run in a shell once for each
                        successfully renewed certificate. For this command,
                        the shell variable $RENEWED_LINEAGE will point to the
                        config live subdirectory containing the new certs and
                        keys; the shell variable $RENEWED_DOMAINS will contain
                        a space-delimited list of renewed cert domains
                        (default: None)
  --disable-hook-validation
                        Ordinarily the commands specified for --pre-hook
                        /--post-hook/--renew-hook will be checked for
                        validity, to see if the programs being run are in the
                        $PATH, so that mistakes can be caught early, even when
                        the hooks aren't being run just yet. The validation is
                        rather simplistic and fails if you use more advanced
                        shell constructs, so you can use this switch to
                        disable it. (default: False)

certificates:
  列出由Certbot管理的所有证书信息

delete:
  用于删除证书的选项

revoke:
  用于撤销证书的选项

  --reason {keycompromise,affiliationchanged,superseded,unspecified,cessationofoperation}
                        Specify reason for revoking certificate. (default: 0)

register:
  用于账户注册和更新的选项

  --register-unsafely-without-email
                        Specifying this flag enables registering an account
                        with no email address. This is strongly discouraged,
                        because in the event of key loss or account compromise
                        you will irrevocably lose access to your account. You
                        will also be unable to receive notice about impending
                        expiration or revocation of your certificates. Updates
                        to the Subscriber Agreement will still affect you, and
                        will be effective 14 days after posting an update to
                        the web site. (default: False)
  --update-registration
                        With the register verb, indicates that details
                        associated with an existing registration, such as the
                        e-mail address, should be updated, rather than
                        registering a new account. (default: False)
  -m EMAIL, --email EMAIL
                        Email used for registration and recovery contact.
                        (default: Ask)
  --eff-email           Share your e-mail address with EFF (default: None)
  --no-eff-email        Don't share your e-mail address with EFF (default:
                        None)

unregister:
  用于注销账户的选项

  --account 账户ID       需要注销的账户ID (默认: 无)

install:
  用于修改证书部署路径的选项

  --fullchain-path 完整钥匙链的路径
                        Accompanying path to a full certificate chain (cert
                        plus chain). (default: None)

config_changes:
  Options for controlling which changes are displayed

  --num NUM             How many past revisions you want to be displayed
                        (default: None)

rollback:
  Options for rolling back server configuration changes

  --checkpoints N       Revert configuration N number of checkpoints.
                        (default: 1)

plugins:
  Options for for the &quot;plugins&quot; subcommand

  --init                Initialize plugins. (default: False)
  --prepare             Initialize and prepare plugins. (default: False)
  --authenticators      Limit to authenticator plugins only. (default: None)
  --installers          Limit to installer plugins only. (default: None)

update_symlinks:
  Recreates cert and key symlinks in /etc/letsencrypt/live, if you changed
  them by hand or edited a renewal configuration file

plugins:
  Plugin Selection: Certbot client supports an extensible plugins
  architecture. See 'certbot plugins' for a list of all installed plugins
  and their names. You can force a particular plugin by setting options
  provided below. Running --help &lt;plugin_name&gt; will list flags specific to
  that plugin.

  --configurator CONFIGURATOR
                        Name of the plugin that is both an authenticator and
                        an installer. Should not be used together with
                        --authenticator or --installer. (default: Ask)
  -a AUTHENTICATOR, --authenticator AUTHENTICATOR
                        Authenticator plugin name. (default: None)
  -i INSTALLER, --installer INSTALLER
                        Installer plugin name (also used to find domains).
                        (default: None)
  --apache              Obtain and install certs using Apache (default: False)
  --nginx               Obtain and install certs using Nginx (default: False)
  --standalone          运行一个独立的网页服务器用于获取证书。(默认: False)
  --manual              Provide laborious manual instructions for obtaining a
                        cert (default: False)
  --webroot             把身份认证文件放置在服务器的网页根目录下用于获取证书。
                        (默认: False)

nginx:
  Nginx网页服务器插件 - Alpha版本

  --nginx-server-root NGINX_SERVER_ROOT
                        Nginx server root directory. (default: /etc/nginx)
  --nginx-ctl NGINX_CTL
                        Path to the 'nginx' binary, used for 'configtest' and
                        retrieving nginx version number. (default: nginx)

standalone:
  启动一个临时的网页服务器

manual:
  Authenticate through manual configuration or custom shell scripts. When
  using shell scripts, an authenticator script must be provided. The
  environment variables available to this script are $CERTBOT_DOMAIN which
  contains the domain being authenticated, $CERTBOT_VALIDATION which is the
  validation string, and $CERTBOT_TOKEN which is the filename of the
  resource requested when performing an HTTP-01 challenge. An additional
  cleanup script can also be provided and can use the additional variable
  $CERTBOT_AUTH_OUTPUT which contains the stdout output from the auth
  script.

  --manual-auth-hook MANUAL_AUTH_HOOK
                        Path or command to execute for the authentication
                        script (default: None)
  --manual-cleanup-hook MANUAL_CLEANUP_HOOK
                        Path or command to execute for the cleanup script
                        (default: None)
  --manual-public-ip-logging-ok
                        Automatically allows public IP logging (default: Ask)

webroot:
  Place files in webroot directory

  --webroot-path WEBROOT_PATH, -w WEBROOT_PATH
                        public_html / webroot path. This can be specified
                        multiple times to handle different domains; each
                        domain will have the webroot path that preceded it.
                        For instance: `-w /var/www/example -d example.com -d
                        www.example.com -w /var/www/thing -d thing.net -d
                        m.thing.net` (default: Ask)
  --webroot-map WEBROOT_MAP
                        JSON dictionary mapping domains to webroot paths; this
                        implies -d for each entry. You may need to escape this
                        from your shell. E.g.: --webroot-map
                        '{&quot;eg1.is,m.eg1.is&quot;:&quot;/www/eg1/&quot;, &quot;eg2.is&quot;:&quot;/www/eg2&quot;}'
                        This option is merged with, but takes precedence over,
                        -w / -d entries. At present, if you put webroot-map in
                        a config file, it needs to be on a single line, like:
                        webroot-map = {&quot;example.com&quot;:&quot;/var/www&quot;}. (default:
                        {})

apache:
  Apache网页服务器插件 - Beta版本

  --apache-enmod APACHE_ENMOD
                        Path to the Apache 'a2enmod' binary. (default:
                        a2enmod)
  --apache-dismod APACHE_DISMOD
                        Path to the Apache 'a2dismod' binary. (default:
                        a2dismod)
  --apache-le-vhost-ext APACHE_LE_VHOST_EXT
                        SSL vhost configuration extension. (default: -le-
                        ssl.conf)
  --apache-server-root APACHE_SERVER_ROOT
                        Apache server root directory. (default: /etc/apache2)
  --apache-vhost-root APACHE_VHOST_ROOT
                        Apache server VirtualHost configuration root (default:
                        /etc/apache2/sites-available)
  --apache-logs-root APACHE_LOGS_ROOT
                        Apache server logs directory (default:
                        /var/log/apache2)
  --apache-challenge-location APACHE_CHALLENGE_LOCATION
                        Directory path for challenge configuration. (default:
                        /etc/apache2)
  --apache-handle-modules APACHE_HANDLE_MODULES
                        Let installer handle enabling required modules for
                        you.(Only Ubuntu/Debian currently) (default: True)
  --apache-handle-sites APACHE_HANDLE_SITES
                        Let installer handle enabling sites for you.(Only
                        Ubuntu/Debian currently) (default: True)
null:
  Null Installer
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/server/nginx/" class="prev">
        上一篇：  Nginx
        </a></span> <span class="next"><a href="/server/apache/">
         下一篇： Apache
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.26b143c5.js" defer></script><script src="/assets/js/3.c09e7e7a.js" defer></script><script src="/assets/js/2.3613c5bc.js" defer></script><script src="/assets/js/138.5e728b85.js" defer></script>
  </body>
</html>
