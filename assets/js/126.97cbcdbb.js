(window.webpackJsonp=window.webpackJsonp||[]).push([[126],{449:function(s,t,a){"use strict";a.r(t);var e=a(33),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql"}},[s._v("#")]),s._v(" Mysql")]),s._v(" "),a("h2",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),a("h3",{attrs:{id:"ubuntu"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu"}},[s._v("#")]),s._v(" ubuntu")]),s._v(" "),a("p",[s._v("ubuntu上安装mysql非常简单只需要几条命令就可以完成。")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mysql-server\n \n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mysql-client\n \n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" libmysqlclient-dev\n")])])]),a("h3",{attrs:{id:"centos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#centos"}},[s._v("#")]),s._v(" centos")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://www.jianshu.com/p/7cccdaa2d177",target:"_blank",rel:"noopener noreferrer"}},[s._v("参考 风boy"),a("OutboundLink")],1)]),s._v(" "),a("h4",{attrs:{id:"添加-mysql-yum-源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加-mysql-yum-源"}},[s._v("#")]),s._v(" 添加 MySQL YUM 源")]),s._v(" "),a("p",[s._v("官方"),a("a",{attrs:{href:"https://link.jianshu.com/?t=http://dev.mysql.com/downloads/repo/yum/",target:"_blank",rel:"noopener noreferrer"}},[s._v("安装源"),a("OutboundLink")],1),s._v("，这个需要注册账号获取更新，注意是 Oracle 的账号。另附5.7"),a("a",{attrs:{href:"https://link.jianshu.com/?t=https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm",target:"_blank",rel:"noopener noreferrer"}},[s._v("下载的地址"),a("OutboundLink")],1),s._v("，下载之后通过 "),a("code",[s._v("rpm -Uvh")]),s._v(" 安装。")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$wget")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -Uvh mysql57-community-release-el7-11.noarch.rpm\n"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$yum")]),s._v(" repolist all "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" mysql\nmysql-connectors-community/x86_64 MySQL Connectors Community                  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("36")]),s._v("\nmysql-tools-community/x86_64      MySQL Tools Community                       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("47")]),s._v("\nmysql57-community/x86_64          MySQL "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.7")]),s._v(" Community Server                 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("187")]),s._v("\n")])])]),a("p",[s._v("官方镜像下载的速度太慢，可以换成国内镜像：")]),s._v(" "),a("p",[s._v("http://mirrors.ustc.edu.cn/mysql-ftp/Downloads/")]),s._v(" "),a("p",[s._v("http://uni.mirrors.163.com/mysql/Downloads/")]),s._v(" "),a("p",[s._v("找到对应的.rpm 源链接，下载后安装。")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可以将这些包下载后复制到 /var/cache/yum/x86_64/7/mysql57-community/packages/目录，或者到目录下面执行下载。")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 然后再次执行 `yum install mysql-community-server`安装")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#server包")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://mirrors.ustc.edu.cn/mysql-ftp/Downloads/MySQL-5.7/mysql-community-server-5.7.30-1.el7.x86_64.rpm\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#client包")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://mirrors.ustc.edu.cn/mysql-ftp/Downloads/MySQL-5.7/mysql-community-client-5.7.30-1.el7.x86_64.rpm\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#common")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://mirrors.ustc.edu.cn/mysql-ftp/Downloads/MySQL-5.7/mysql-community-common-5.7.30-1.el7.x86_64.rpm\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#lib")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://mirrors.ustc.edu.cn/mysql-ftp/Downloads/MySQL-5.7/mysql-community-libs-5.7.30-1.el7.x86_64.rpm\n\n\n")])])]),a("p",[s._v("或者下载后按下面的步骤直接运行安装")]),s._v(" "),a("p",[s._v("#安装依赖 net-tools.x86_64，libaio.x86_64，perl.x86_64")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y net-tools.x86_64 libaio.x86_64 perl.x86_64\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ivh mysql-community-common-5.7.25-1.el7.x86_64.rpm\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ivh mysql-community-libs-5.7.25-1.el7.x86_64.rpm\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ivh mysql-community-client-5.7.25-1.el7.x86_64.rpm\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ivh mysql-community-server-5.7.25-1.el7.x86_64.rpm\n\n")])])]),a("p",[s._v("在此之前我们还要先安装三个依赖环境")]),s._v(" "),a("p",[s._v("我们直接使用yum安装")]),s._v(" "),a("h4",{attrs:{id:"选择安装版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#选择安装版本"}},[s._v("#")]),s._v(" 选择安装版本")]),s._v(" "),a("p",[s._v("如果想安装最新版本的，直接使用 yum 命令即可")]),s._v(" "),a("p",[a("code",[s._v("$sudo yum install mysql-community-server")])]),s._v(" "),a("p",[s._v("如果想要安装 5.6 版本的，有2个方法。命令行支持 yum-config-manager 命令的话，可以使用如下命令：")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" dnf config-manager --disable mysql57-community\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" dnf config-manager --enable mysql56-community\n$ yum repolist "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" mysql\nmysql-connectors-community/x86_64 MySQL Connectors Community                  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("36")]),s._v("\nmysql-tools-community/x86_64      MySQL Tools Community                       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("47")]),s._v("\nmysql56-community/x86_64          MySQL "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.6")]),s._v(" Community Server                 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("327")]),s._v("\n")])])]),a("p",[s._v("或者直接修改 "),a("code",[s._v("/etc/yum.repos.d/mysql-community.repo")]),s._v(" 这个文件")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Enable to use MySQL 5.6")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysql56-community"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("MySQL "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.6")]),s._v(" Community Server\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("baseurl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://repo.mysql.com/yum/mysql-5.6-community/el/7/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$basearch")]),s._v("/\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("enabled")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#表示当前版本是安装")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gpgcheck")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gpgkey")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysql57-community"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("MySQL "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.7")]),s._v(" Community Server\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("baseurl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://repo.mysql.com/yum/mysql-5.7-community/el/7/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$basearch")]),s._v("/\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("enabled")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#默认这个是 1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gpgcheck")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gpgkey")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql\n")])])]),a("p",[s._v("通过设置 enabled 来决定安装哪个版本。")]),s._v(" "),a("p",[s._v("设置好之后使用 yum 安装即可。")]),s._v(" "),a("h4",{attrs:{id:"启动服务并查看密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动服务并查看密码"}},[s._v("#")]),s._v(" 启动服务并查看密码")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" mysqld start "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Centos < 7")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl start mysqld "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#CentOS 7")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl status mysqld "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看服务状态")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'temporary password'")]),s._v(" /var/log/mysqld.log "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看密码")]),s._v("\n\n")])])]),a("h2",{attrs:{id:"配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[s._v("#")]),s._v(" 配置")]),s._v(" "),a("h3",{attrs:{id:"ubuntu查看和修改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu查看和修改"}},[s._v("#")]),s._v(" ubuntu查看和修改")]),s._v(" "),a("h4",{attrs:{id:"查看默认密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看默认密码"}},[s._v("#")]),s._v(" 查看默认密码")]),s._v(" "),a("p",[a("code",[s._v("cat /etc/mysql/debian.cnf")]),s._v("查看默认用户名和密码")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("client"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" localhost\nuser     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" debian-sys-maint\npassword "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 24j7HYTEqgPv0Ozg\nsocket   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /var/run/mysqld/mysqld.sock\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysql_upgrade"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" localhost\nuser     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" debian-sys-maint\npassword "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 24j7HYTEqgPv0Ozg\nsocket   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /var/run/mysqld/mysqld.sock\n")])])]),a("h4",{attrs:{id:"用上面的用户名和密码登陆"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用上面的用户名和密码登陆"}},[s._v("#")]),s._v(" 用上面的用户名和密码登陆")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ mysql -u debian-sys-maint -p\n")])])]),a("p",[s._v("如报如下的错误")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("ERROR "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2002")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("HY000"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": Can"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'t connect to local MySQL server through socket '")]),s._v("/tmp/mysql.sock' "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改mysql配置文件将套接字指定为mysql默认分配的就行了,")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改`/etc/my.cnf`,将`socket`的值改为`/var/run/mysqld/mysqld.sock`即可.")]),s._v("\n\n")])])]),a("h4",{attrs:{id:"修改root密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改root密码"}},[s._v("#")]),s._v(" 修改root密码")]),s._v(" "),a("p",[s._v("成功登陆执行下面Sql语句：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USE")]),s._v(" mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--选择数据库")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'localhost'")]),s._v(" IDENTIFIED "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WITH")]),s._v(" mysql_native_password "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'你的新密码'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--更改密码")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("User")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Host"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" plugin "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--选择显示用户表")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("UPDATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" plugin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mysql_native_password'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("User")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nFLUSH "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIVILEGES")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--刷新权限列表")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("exit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("重启服务"),a("code",[s._v("systemctl restart mysql")]),s._v("\n然后使用新的密码登陆试试"),a("code",[s._v("mysql -u root -p")])]),s._v(" "),a("h3",{attrs:{id:"centos查看和修改密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#centos查看和修改密码"}},[s._v("#")]),s._v(" centos查看和修改密码")]),s._v(" "),a("p",[s._v("CetnOS 8 Stream版本的系统中安装的mysql默认用户root的密码为空，可直接登陆。")]),s._v(" "),a("h4",{attrs:{id:"通过日志查看"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通过日志查看"}},[s._v("#")]),s._v(" 通过日志查看")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'temporary password'")]),s._v(" /var/log/mysqld.log\n\n")])])]),a("h3",{attrs:{id:"修改密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改密码"}},[s._v("#")]),s._v(" 修改密码")]),s._v(" "),a("p",[a("code",[s._v("mysql -u root -p")]),s._v("登陆")]),s._v(" "),a("p",[s._v("这里因为mysql的新版本限制了密码复杂度，所以我们需要设置一个稍微复杂的密码")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" password"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("password"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'这里输入你想改的密码'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--修改当前用户")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--或者使用丰面的命令指定修改密码")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALTER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@'localhost'")]),s._v(" IDENTIFIED "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WITH")]),s._v(" mysql_native_password "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'你的新密码'")]),s._v("\n")])])]),a("p",[s._v("如果修改密码时提示下面的错误，表示密码不会使密码强度安全等级，需要调整密码安全设置或者符合复杂强度的密码")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("ERROR "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1819")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("HY000"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": Your password does not satisfy the current policy requirements\n")])])]),a("h3",{attrs:{id:"密码强度等级"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#密码强度等级"}},[s._v("#")]),s._v(" 密码强度等级")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("global")]),s._v(" validate_password_policy"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 0-2共3个强度等级，0为最低；")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("global")]),s._v(" validate_password_mixed_case_count"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--至少要包含的小写字母个数和大写字母个数。")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("global")]),s._v(" validate_password_number_count"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--包含的数字个数；")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("global")]),s._v(" validate_password_special_char_count"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--特殊字符数。")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("global")]),s._v(" validate_password_length"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("---支持的最短长度")]),s._v("\n")])])]),a("h3",{attrs:{id:"开启远程连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开启远程连接"}},[s._v("#")]),s._v(" 开启远程连接")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("use")]),s._v(" mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" Host "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" Host "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("User")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \nflush "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("privileges")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("---刷新")]),s._v("\n")])])]),a("h2",{attrs:{id:"命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#命令"}},[s._v("#")]),s._v(" 命令")]),s._v(" "),a("h2",{attrs:{id:"常用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用"}},[s._v("#")]),s._v(" 常用")]),s._v(" "),a("h3",{attrs:{id:"git放弃本地修改，重置为服务端版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git放弃本地修改，重置为服务端版本"}},[s._v("#")]),s._v(" git放弃本地修改，重置为服务端版本")]),s._v(" "),a("h3",{attrs:{id:"问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问题"}},[s._v("#")]),s._v(" 问题")])])}),[],!1,null,null,null);t.default=n.exports}}]);